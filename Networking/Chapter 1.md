# Chapter 1

## 1. 计算机网络概述

- 局域网
  - 覆盖范围小
  - 自己花钱买设备
  - 带宽固定
  - 自行维修
  - 100米以内，带宽10/100/1000M
- 广域网
  - 带宽不固定
- Internet
  - ISP：Internet Service Provider
  - 自己的机房
  - 对网民提供访问Internet连接

- 子网掩码
  - （255.255.0.0代表前两位是网络地址，后两位是主机地址）

- MAC地址决定下一跳去哪里，IP地址决定起点和终点
- 交换机进行MAC地址转发，路由器进行IP地址转发

## 2. OSI参考模型

- 应用层：所有能**产生网络流量**的程序，能够和用户交互
- 表示层：在传输之前是否进行**加密**或**压缩**处理，二进制或ASCII码处理
- 会话层：查看木马 `netstat-n`
- 传输层：可靠传输/流量控制/不可靠传输
- 网络层：负责选择最佳路径/规划http地址
- 数据链路层：帧的开始和结束/实现透明传输/差错校验
- 物理层：接口标准/电气标准，如何在物理链路上传输更快的速度

## 3. OSI参考模型对网络排错指导

- 物理层故障：查看连接状态/发送和接收的数据包状态
- 数据链路层故障：MAC地址冲突/ADSL欠费/网速没办法协商/计算机连接到错误的VLAN
- 网络层问题：配置了错误的IP地址/子网掩码/网关，路由器没有配置到达目标网络的路由
- 应用层故障：应用层配置

## 4.OSI参考模型与网络安全

- 物理层安全：网线接口处理
- 数据链路层安全：ADSL，账号密码，VLAN交换机端口绑定MAC地址
- 网络层安全：在路由器上使用ACL控制数据包流量，设置防火墙
- 应用层安全：开发应用程序没有漏洞

## 5. TCP/IP协议和OSI参考模型

| OSI参考模型          | TCP/IP协议栈             |
| -------------------- | ------------------------ |
| 应用层/表示层/会话层 | HTTP/FTP/DNS             |
| 传输层               | TCP/UDP                  |
| 网络层               | ARP/IP/ICMP/IGMP         |
| 数据链路层/物理层    | Ethernet/ATM/Frame Relay |

- 封装过程

| OSI参考模型          | 封装过程                                           |
| -------------------- | -------------------------------------------------- |
| 应用层/表示层/会话层 | 上层数据                                           |
| 传输层               | **TCP头**+上层数据=数据段/消息                     |
| 网络层               | **IP头**+TCP+上层数据=数据包                       |
| 数据链路层           | **MAC头**+IP+TCP+上层数据+**FCS**(差错校验)=数据帧 |
| 物理层               | bit流                                              |

## 6. 计算机网络性能

- 速率：连接在计算机网络上的主机在数字信道上传送数据为书的速率，单位b/s, kb/s, Mb/s, Gb/s
- 带宽：数据通信领域中，数字信道所能传送的最高数据率，单位b/s, kb/s, Mb/s, Gb/s
- 吞吐量：在单位时间内通过某个网络的数据量
- 时延：数据从网络一端传送到另一端所需要的时间
  - 发送时延：从开始发到数据发出去，结束发送的时间，$\frac{数据块长度（比特）}{信道带宽（比特/秒）}$
  - 传播时延：数据传播过程中的时延
  - 处理时延：缓存排队时处理的时间
  - 排队时延：处理完成转发时排队的时间
- 时延带宽积：传播时延*带宽
- 往返时间（RTT）：从发送方发送数据开始，到发送方收到接受方确认的时间
- 网络利用率
  - 信道利用率：$\frac{有数据通过时间}{（有+无）数据通过时间}$
  - 网络利用率：所有信道利用率加权平均值
  - 网络利用率和时延成**正比**，$D=\frac{D_0}{1-U}$，其中$D_0$表示网络空闲的时延，$D$表示网络当前时延，$U$表示信道利用率